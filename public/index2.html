<html><head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>canvas drawing</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="robots" content="noindex, nofollow">
    <meta name="googlebot" content="noindex, nofollow">
    <meta name="viewport" content="width=device-width, initial-scale=1">
  
    <style id="compiled-css" type="text/css">
        .body{
      background: #eeeeee none repeat scroll 0 0;
  }
  .paper {
      background: #ffffff none repeat scroll 0 0;
      border: 1px solid #d5d5d5;
      height: 500px;
      border-radius: 5px;
      box-shadow: 0 0 5px #7a7a7a;
      margin: 10px 10px 10px 140px;
  }
  
      /* EOS */
    </style>
   
   
  </head>
  <body>
      
      <div class="paper">
          <canvas id="drawCanvas" style="width:100%; height:100%;border: 1px solid #000"></canvas>
      </div>
  
  
      <script type="text/javascript">//<![CDATA[
  
  
  var canvas, ctx, flag = false, prevX = 0, currX = 0, prevY = 0, currY = 0, dot_flag = false;
	
	    var x = "black", y = 2;
	    
	    function init() {
	        canvas = document.getElementById('drawCanvas');
            canvas.setAttribute('width', canvas.parentNode.offsetWidth);
            canvas.setAttribute('height', canvas.parentNode.offsetHeight);
	        ctx = canvas.getContext("2d");
	       // w = ctx.clientWidth;
	        //h = ctx.clientHeight;
          
	        canvas.addEventListener("mousemove", function (e) {
	            findxy('move', e)
	        }, false);
	        canvas.addEventListener("mousedown", function (e) {
	            findxy('down', e)
	        }, false);
	        canvas.addEventListener("mouseup", function (e) {
	            findxy('up', e)
	        }, false);
	        canvas.addEventListener("mouseout", function (e) {
	            findxy('out', e)
	        }, false);
	    }

	    function draw() {
	        ctx.beginPath();
	        ctx.moveTo(prevX, prevY);
	        ctx.lineTo(currX, currY);
	        ctx.strokeStyle = x;
	        ctx.lineWidth = y;
	        ctx.stroke();
	        ctx.closePath();
	    }
	    
	    function findxy(res, e) {
	        if (res == 'down') {
	            prevX = currX;
	            prevY = currY;
                var cRect = canvas.getBoundingClientRect();
	            currX = e.clientX - cRect.offsetLeft;
	            currY = e.clientY - cRect.offsetTop;
	    
	            flag = true;
	            dot_flag = true;
	            if (dot_flag) {
	                ctx.beginPath();
	                ctx.fillStyle = x;
	                ctx.fillRect(currX, currY, 2, 2);
	                ctx.closePath();
	                dot_flag = false;
	            }
	        }
	        if (res == 'up' || res == "out") {
	            flag = false;
	        }
	        if (res == 'move') {
	            if (flag) {
	                prevX = currX;
	                prevY = currY;
	                currX = e.clientX - canvas.offsetLeft;
	                currY = e.clientY - canvas.offsetTop;
	                draw();
	            }
	        }
	    }
	    init();
  
  
    //]]></script>
  
    
  
  
  
  </body></html>